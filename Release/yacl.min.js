(function(){function g(b,c){for(var a=0;a<b.length;a++)c(b[a],a)}function q(b,c){for(var a=[],d=0;d<b.length;d++)c(b[d],d)&&a.push(b[d]);return a}function e(b,c,a){b[c]=function(){return a.apply(b,arguments)}}function h(b,c,a){b[c]=null;try{Object.defineProperty(b,c,{value:a,writable:!1})}catch(d){b[c]=a}}function k(b,c,a,d){b[c]=null;try{var l={};null!=a&&(l.get=function(){return a.call(b)});null!=d&&(d.get=function(a){d.call(b,a)});Object.defineProperty(b,c,l)}catch(r){b[c]=a}}var m,n,p;m=function(b){var c=
{};null!=b&&g(b,function(a){c[a]=[]});e(this,"fire",function(a,b){0==a.indexOf("on")&&(a=a.subString(2));"undefined"!=typeof c[a]&&g(c[a],function(a){var c={stopPropagation:function(){},preventDefault:function(){}};if(null!=b)for(var e in b)c[e]=b[e];a(c)})});e(this,"add",function(){if(2>arguments.length||3<arguments.length)throw Error("Invalid Arguments");var a=arguments[0];0==a.indexOf("on")&&(a=a.subString(2));"undefined"!=typeof c[a]&&c[a].push(f)});e(this,"remove",function(){if(2>arguments.length||
3<arguments.length)throw Error("Invalid Arguments");var a=arguments[0];0==a.indexOf("on")&&(a=a.subString(2));var b=arguments[1];"undefined"!=typeof c[a]&&(c[a]=q(c[a],function(a){return a!=b}))})};n=function(b,c,a){h(this,"type",b);h(this,"data",c);h(this,"created",a?a:new Date)};p=function(b){var c=this,a=[];g(b,function(b){e(c,b,function(c){c=new n(b,c);a.push(c);return c})});k(c,"logs",function(){var b=[];g(a,function(a){b.push(a)});g("push pop reverse shift sort splice unshift".split(" "),function(a){b[a]=
function(){};delete b[a]});return b})};window.YACL=function(b){var c=this;b=["log","info","warn","error"];var a=new m(b);e(c,window.addEventListener?"addEventListener":"attachEvent",a.add);e(c,window.removeEventListener?"removeEventListener":"detachEvent",a.remove);var d=new p(b);g(b,function(b){e(c,b,function(c){c=d[b](c).clone();a.fire(b,c);return c})});k(c,"logs",function(){return d.logs})}})();
